(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0cc6":function(t,e,a){"use strict";var n=a("fac6"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("div",{staticClass:"d-flex align-center"},[n("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:a("5d42"),transition:"scale-transition",width:"40%"}})],1),n("v-spacer"),n("v-btn",{attrs:{href:"https://game.bilibili.com/pcr/",target:"_blank",text:""}},[n("span",{staticClass:"mr-2"},[t._v("登录")]),n("v-icon",[t._v("mdi-open-in-new")])],1)],1),n("v-content",[n("Welcome")],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticStyle:{"max-width":"1010px"},attrs:{fluid:""}},[n("v-row",{staticClass:"text-center"},[n("v-col",{attrs:{cols:"12"}},[n("v-img",{staticClass:"my-3",attrs:{src:a("c441"),contain:"",height:"100%"}})],1),n("v-col",{staticClass:"mb-4"},[n("h1",{staticClass:"display-1 font-weight-bold mb-3"},[t._v(" 欢迎来到108集团公会 ")]),n("p",{staticClass:"subheading font-weight-regular"},[n("a",{attrs:{href:"https://wiki.biligame.com/pcr/%E4%BA%94%E6%9C%88%E5%85%AC%E4%BC%9A%E6%88%98%E6%94%BB%E7%95%A5%E5%8F%8A%E4%BD%9C%E4%B8%9A%E5%88%86%E4%BA%AB",target:"_blank"}},[t._v("五月公会战攻略及作业分享")])])]),n("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[n("v-row",{attrs:{justify:"center"}},t._l(t.battleData,(function(e,a){return n("a",{key:a,staticClass:"subheading mx-3",attrs:{target:"_blank"},on:{click:function(a){return t.switchView(e.view)}}},[t._v(" "+t._s(e.text)+" ")])})),0),n(t.currentView,{tag:"div"})],1),n("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[n("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v(" 相关网址 ")]),n("v-row",{attrs:{justify:"center"}},t._l(t.importantLinks,(function(e,a){return n("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1)],1)],1)},r=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ClanList"},[a("div",{staticClass:"asideBox"},[a("aside",[a("ul",{staticClass:"asideMenu"},t._l(t.clanList,(function(e,n){return a("li",{key:e.gid},[a("div",{staticClass:"oneMenu",on:{click:function(a){return t.showMembers(e,n)}}},[a("span",[t._v(t._s(e.name))])]),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"clan.isShow"}]},t._l(e.memberList,(function(e,s){return a("li",{key:e.uid},[a("div",{staticClass:"oneMenuChild",on:{click:function(a){return t.showDaos(e,n,s)}}},[a("span",[t._v(t._s(e.name))])]),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"member.isShow"}]},t._l(e.daoList,(function(e){return a("li",{key:e.eid},[a("div",{staticClass:"oneMenuChildChild"},[a("span",[t._v("时间:"+t._s(e.time)+","+t._s(e.round)+"周目,BOSS "+t._s(e.boss)+",伤害:"+t._s(e.dmg))])])])})),0)])})),0)])})),0)])])])},l=[],u=(a("99af"),a("4160"),a("ac1f"),a("1276"),a("159b"),a("bc3a")),d={name:"Clans",data:function(){return{clanList:[{memberList:[{daoList:[{isShow:Boolean}],isShow:Boolean}],isShow:Boolean}]}},mounted:function(){var t=this;u.get("/api/clans").then((function(e){e.data.forEach((function(t){return t.isShow=!1})),t.clanList=e.data})).catch((function(t){console.log(t)}))},methods:{showMembers:function(t){t.isShow?t.isShow=!t.isShow:u.get("/api/members?gid=".concat(t.gid,"&cid=").concat(t.cid)).then((function(e){e.data.forEach((function(e){e.gid=t.gid,e.cid=t.cid,e.isShow=!1})),t.memberList=e.data,t.isShow=!t.isShow})).catch((function(t){console.log(t)}))},showDaos:function(t,e){var a=this;t.isShow?(t.isShow=!t.isShow,this.$set(this.clanList,e,this.clanList[e])):u.get("/api/daos?gid=".concat(t.gid,"&cid=").concat(t.cid,"&uid=").concat(t.uid,"&alt=").concat(t.alt)).then((function(n){n.data.forEach((function(t){t.isShow=!1,t.time=t.time.split(".")[0]})),t.daoList=n.data,t.isShow=!t.isShow,a.$set(a.clanList,e,a.clanList[e])})).catch((function(t){console.log(t)}))}}},h=d,v=(a("0cc6"),a("2877")),f=Object(v["a"])(h,c,l,!1,null,"476cd021",null),m=f.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-divider",{attrs:{inset:""}}),a("h1",[t._v("出刀记录")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{label:"日期",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},n))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-spacer"),a("v-col",[a("v-btn",{attrs:{"x-large":"",color:"primary","min-width":"100%"}},[t._v("选中未完成")])],1),a("v-col",[a("v-btn",{attrs:{"x-large":"",color:"error","min-width":"100%"}},[t._v("催刀")])],1)],1),a("v-spacer"),a("v-simple-table",[a("thead",[a("tr",[a("th",{staticClass:"text-start",staticStyle:{width:"1px","min-width":"1px"}},[a("v-checkbox",{staticStyle:{margin:"0px",padding:"0px"},attrs:{"hide-details":""},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}})],1),t._l(t.table.headers,(function(e,n){return a("th",{key:n,class:e.align?"text-"+e.align:"",attrs:{align:e.align,colspan:e.colspan}},[t._v(" "+t._s(e.text)+" ")])}))],2)]),a("tbody",t._l(t.table.daos,(function(e,n){return a("tr",{key:n},[a("th",{staticClass:"text-start",staticStyle:{width:"1px","min-width":"1px"}},[a("v-checkbox",{staticStyle:{margin:"0px",padding:"0px"},attrs:{"hide-details":""},on:{change:function(a){return t.select(n,e)}},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"item.selected"}})],1),a("td",[t._v(" "+t._s(e.name)+" ")]),a("td",[a("v-chip",{attrs:{color:t.getColor(e.left),dark:""}},[t._v(t._s(e.left))])],1),t._l(e.dao,(function(e,n){return[e.normal?a("td",{key:n+"normal",attrs:{colspan:2}},[t._v(" B:"+t._s(e.normal.boss)+" D:"+t._s(e.normal.dmg)+" ")]):t._e(),e.last?a("td",{key:n+"last"},[t._v(" B:"+t._s(e.last.boss)+" D:"+t._s(e.last.dmg)+" ")]):t._e(),e.last?a("td",{key:n+"ext"},[t._v(" "+t._s(e.ext?"B:"+e.ext.boss:"")+" "+t._s(e.ext?"D:"+e.ext.dmg:"")+" ")]):t._e()]}))],2)})),0)])],1)},p=[],g=(a("a434"),a("b0c0"),a("07ac"),a("5319"),a("b85c")),_=a("bc3a"),w={name:"Daos",data:function(){return{date:"2020-05-19",menu2:!1,table:{headers:[{value:"name",text:"名字",sortable:!0,align:"start",colspan:1},{value:"left",text:"剩余刀",sortable:!0,align:"start",colspan:1},{value:"first",text:"第一刀",sortable:!1,align:"center",colspan:2},{value:"second",text:"第二刀",sortable:!1,align:"center",colspan:2},{value:"third",text:"第三刀",sortable:!1,align:"center",colspan:2}],index:{},daos:[],selected:[]},daoList:[]}},mounted:function(){this.getData()},computed:{selectAll:{set:function(t){var e,a=Object(g["a"])(this.table.selected);try{for(a.s();!(e=a.n()).done;){var n=e.value;this.table.daos[n].selected=!1}}catch(i){a.e(i)}finally{a.f()}if(this.table.selected=[],t)for(var s=0;s<this.table.daos.length;++s)this.table.daos[s].selected=!0,this.table.selected.push(s),this.table.index[s]=s},get:function(){return this.table.length===this.table.daos.length}}},methods:{getData:function(){var t=this;_.get("/api/daos?gid=1020774592&cid=1").then((function(e){_.get("/api/members?gid=1020774592&cid=1").then((function(a){var n={};a.data.forEach((function(t){n[t.uid]=t.name})),e.data.forEach((function(t){t.time=t.time.split(".")[0],t.name=n[t.uid],t.text="".concat(t.name,"，").concat(t.round,"周目，BOSS ").concat(t.boss,"，伤害:").concat(t.dmg,"，E").concat(t.eid,"，时间:").concat(t.time)})),t.daoList=e.data,t.table.daos=t.getDataDaos(t.daoList)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},select:function(t,e){e.selected?(this.table.index[t]=this.table.selected.length,this.table.selected.push(t)):this.table.selected.splice(this.table.index[t],1)},getColor:function(t){return t>=3?"red":t>=2?"orange":t>=.5?"blue":"green"},getDataDaos:function(t){var e=this;console.log(t);var a=this.getDateString(new Date(Date.parse(this.date.replace(/-/g,"/")))),n={};return t.forEach((function(t){var s=e.getDateString(new Date(t.time));if(s.dd==a.dd){void 0===n[t.uid]&&(n[t.uid]={uid:t.uid,name:t.name,cur:0,left:3,dao:[{},{},{}]});var i=e.getDaoType(t.flag);"normal"===i?(n[t.uid].dao[n[t.uid].cur].normal={dmg:t.dmg,boss:t.boss},n[t.uid].cur+=1,n[t.uid].left-=1):"last"===i?(n[t.uid].dao[n[t.uid].cur].last={dmg:t.dmg,boss:t.boss},n[t.uid].left-=.5):"ext"===i&&(n[t.uid].dao[n[t.uid].cur].ext={dmg:t.dmg,boss:t.boss},n[t.uid].cur+=1,n[t.uid].left-=.5)}})),Object.values(n)},getDaoType:function(t){return void 0===t||0===t?"normal":1==t?"last":2==t?"ext":4==t?"timeout":"unknown"},getDateString:function(t){void 0===t&&(t=new Date);var e=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();return n<20&&(a-=1),a<1&&(a=12,e-=1),{yyyy:e,mm:a,dd:n}}}},x=w,y=(a("574b"),a("6544")),C=a.n(y),S=a("8336"),D=a("ac7c"),k=a("cc20"),V=a("62ad"),B=a("a523"),L=a("2e4b"),j=a("ce7e"),E=a("e449"),O=a("0fd9"),A=a("1f4f"),M=a("2fa4"),P=a("8654"),$=Object(v["a"])(x,b,p,!1,null,"7c57e34e",null),F=$.exports;C()($,{VBtn:S["a"],VCheckbox:D["a"],VChip:k["a"],VCol:V["a"],VContainer:B["a"],VDatePicker:L["a"],VDivider:j["a"],VMenu:E["a"],VRow:O["a"],VSimpleTable:A["a"],VSpacer:M["a"],VTextField:P["a"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-divider",{attrs:{inset:""}}),a("h1",[t._v("BOSS状态")]),a("v-row",[a("v-col",{attrs:{col:"6"}},[a("a",{staticClass:"exbig"},[t._v(t._s(t.bossData.round))]),a("a",{staticClass:"big"},[t._v("周目")])]),a("v-col",{attrs:{col:"6"}},[a("a",{staticClass:"exbig"},[t._v(t._s(t.bossData.boss))]),a("a",{staticClass:"big"},[t._v("号boss")])])],1),a("v-row",[a("v-col",{attrs:{col:"12"}},[a("span",{class:{exbig:!t.bossData.challenger},style:{color:t.getProgressLinearColor()}},[t._v(t._s(t.bossData.remind_hp.toLocaleString()))]),t._v("/"+t._s(t.bossData.total_hp.toLocaleString()))])],1),t.bossData.challenger?[a("v-row",[a("v-col",{attrs:{col:"12"}},[a("a",{staticStyle:{"font-size":"32px",color:"#003300"}},[t._v(t._s(t.bossData.challenger.name))]),t.bossData.challenger?a("a",[t._v(" 正在挑战boss ")]):t._e()])],1)]:t._e(),a("v-row",{staticStyle:{"margin-bottom":"25px"}},[a("v-col",{attrs:{col:"12"}},[a("v-progress-linear",{attrs:{value:t.bossData.remind_hp/t.bossData.total_hp*100,color:t.getProgressLinearColor(),height:"10"}})],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",[a("v-btn",{attrs:{"x-large":"",color:"success","min-width":"100%"}},[t._v("报刀")])],1),a("v-col",[a("v-btn",{attrs:{"x-large":"",color:"warning","min-width":"100%"}},[t._v("补时刀")])],1),a("v-col",[a("v-btn",{attrs:{"x-large":"",color:"warning","min-width":"100%"}},[t._v("尾刀")])],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",[a("v-btn",{attrs:{"x-large":"",color:"error","min-width":"100%"}},[t._v("掉刀")])],1),a("v-col",[a("v-btn",{attrs:{"x-large":"",color:"error","min-width":"100%"}},[t._v("挂树")])],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",[a("v-btn",{attrs:{"x-large":"",color:"primary","min-width":"100%"}},[t._v(" 申请出刀 ")])],1),a("v-col",[a("v-btn",{attrs:{"x-large":"","min-width":"100%"}},[t._v(" 取消申请 ")])],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",[a("v-btn",{attrs:{"x-large":"","min-width":"100%"}},[t._v("预约BOSS")])],1),a("v-col",[a("v-btn",{attrs:{"x-large":"","min-width":"100%"}},[t._v(" 取消预约 ")])],1)],1)],2)},T=[],I=(a("a9e3"),a("bc3a")),Q={name:"Boss",data:function(){return{bossData:{round:Number,boss:Number,remind_hp:Number,total_hp:Number,challenger:Object}}},mounted:function(){var t=this;I.get("/api/boss?gid=1020774592").then((function(e){t.bossData=e.data})).catch((function(t){console.log(t)}))},methods:{getProgressLinearColor:function(){var t=this.bossData.remind_hp/this.bossData.total_hp*100;return t>70?"#67C23A":t>50?"#9ACD32":t>30?"#FFA500":"#FF0000"}}},R=Q,W=(a("95cc"),a("8e36")),J=Object(v["a"])(R,N,T,!1,null,"8cacdce4",null),z=J.exports;C()(J,{VBtn:S["a"],VCol:V["a"],VContainer:B["a"],VDivider:j["a"],VProgressLinear:W["a"],VRow:O["a"]});var G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Daos"},[a("h2",[t._v(t._s(t.message))])])},Y=[],q={name:"Daos",data:function(){return{message:"敬请期待☆~"}},mounted:function(){},methods:{}},H=q,K=Object(v["a"])(H,G,Y,!1,null,"ecec10c4",null),U=K.exports,X={name:"Welcome",components:{Clans:m,Daos:F,Boss:z,Qidai:U},data:function(){return{importantLinks:[{text:"B服官网",href:"https://game.bilibili.com/pcr/"},{text:"竞技场查询",href:"https://pcrdfans.com/battle"},{text:"NGA论坛",href:"https://bbs.nga.cn/thread.php?fid=-10308342&rand=222"},{text:"官方微博",href:"https://www.weibo.com/u/6603867494"},{text:"本站源代码",href:"https://github.com/yiyione/108clanbattle"}],battleData:[{text:"BOSS",view:"Boss"},{text:"人员列表",view:"Clans"},{text:"出刀记录",view:"Daos"},{text:"伤害统计",view:"Qidai"},{text:"积分统计",view:"Qidai"}],currentView:"Boss"}},methods:{switchView:function(t){this.currentView=t}}},Z=X,tt=a("adda"),et=Object(v["a"])(Z,o,r,!1,null,null,null),at=et.exports;C()(et,{VCol:V["a"],VContainer:B["a"],VImg:tt["a"],VRow:O["a"]});var nt={name:"App",components:{Welcome:at},data:function(){return{}},created:function(){document.title="公主连结·108集团"}},st=nt,it=a("7496"),ot=a("40dc"),rt=a("a75b"),ct=a("132d"),lt=Object(v["a"])(st,s,i,!1,null,null,null),ut=lt.exports;C()(lt,{VApp:it["a"],VAppBar:ot["a"],VBtn:S["a"],VContent:rt["a"],VIcon:ct["a"],VImg:tt["a"],VSpacer:M["a"]});var dt=a("f309");n["a"].use(dt["a"]);var ht=new dt["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:ht,render:function(t){return t(ut)}}).$mount("#app")},"574b":function(t,e,a){"use strict";var n=a("90f6"),s=a.n(n);s.a},"5d42":function(t,e,a){t.exports=a.p+"img/pcr.ed2ce3b0.png"},"90f6":function(t,e,a){},"95cc":function(t,e,a){"use strict";var n=a("a7e5"),s=a.n(n);s.a},a7e5:function(t,e,a){},c441:function(t,e,a){t.exports=a.p+"img/princess-connect-redive-anime.d88ec3ba.jpg"},fac6:function(t,e,a){}});
//# sourceMappingURL=app.43e85f81.js.map